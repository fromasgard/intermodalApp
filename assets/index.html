<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
    <script src="https://kit.fontawesome.com/a6bf7c1cc6.js" crossorigin="anonymous"></script>
           
    <script src="app.js"></script>
    <script src="tabletoExcel.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link rel="stylesheet" href="estilos.css">
    <title>Intermodal Aplicacion
    </title>
  </head>
  <body>
    <!-- Comiendo del nav -->  
    <nav  id="menu" class="navbar navbar-expand-lg navbar-dark bg-danger fixed-top">
      <div class="container">
       <a class="navbar-brand" href="login.html">
         <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Santiago_Metro_logo.svg/1229px-Santiago_Metro_logo.svg.png" width="30" height="30" class="d-inline-block align-top" alt="">
         <strong>Metro</strong> 
       </a>
       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse " id="navbarNav">
         <ul class="navbar-nav">
           <li class="nav-item active">
             <a class="nav-link" href="#">Inicio <span class="sr-only">(current)</span></a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="#">Instrucciones</a>
           </li>
           <li class="nav-item">
             <a class="nav-link" href="#">Contacto</a>
           </li>        
         </ul>
       </div>
      </div>
       </nav>
<!-- Cierre dedl nave-->
<!-- comienzo cuerpo-->
<div class="jumbotron jumbotron-fluid bg-danger text-white">
  <div class="container">
    <h1 class="display-4">Aplicacion Intermodal</h1>
    <h1 class="display-4 lead">Hola! aqui es donde puedes ingresar servicios.</h1>
  
    <div class="col">
      <input type="text" class="rounded" id="Servicio"  placeholder="Ingrese Servicio">
    </div>

  <div class="mt-3">
    <input class="ml-2 btn btn-warning" type="button" value="Modificar" id="BtnModificar" onclick="modificar(recuperarValor())">
  </div>
  </div>
</div>

<!--Fin jumbotron-->+

<div class="container" >
  <div class="row d-flex">
  <div class="card text-white bg-danger ml-2 mb-3" style="max-width: 10rem;"  >
    <div class="card-header">Anden 1</div>
    <div class="card-body" >
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <div class="d-flex">
        <button type="button" class="btn btn-success Serv" id="S1" onclick="agregarServiciobtn(`${servicio1}`,'1')">Descarga</button>
      <button class="fas fa-edit btn btn-success" onclick="recuperarValor(`${servicio1}`)"></button>
      </div>
    </div>
  </div>
  <div class="card text-white bg-danger ml-2 mb-3" style="max-width: 10rem;">
    <div class="card-header">Anden 2</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-info Serv" id="S2" onclick="agregarServiciobtn(`${servicio2}`,'2')">Descarga</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 3</div>
    <div class="card-body" >
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <div class="d-flex">
        <button type="button" class="btn btn-warning Serv" id="S3" onclick="agregarServiciobtn(`${servicio3}`,'3')">314C</button>
      <button type="button" class="ml-1 btn btn-warning Serv" id="S4" onclick="agregarServiciobtn(`${servicio4}`,'3')">B08</button>

      </div>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 4</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <div class="d-flex">
        <button type="button" class="btn btn-warning Serv"id="S5" onclick="agregarServiciobtn(`${servicio5}`,'4')">B18</button>
      <button type="button" class="ml-1 btn btn-warning Serv" id="S6" onclick="agregarServiciobtn(`${servicio6}`,'4')">B18e</button>
      </div>
    </div>
  </div> 
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 5</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S7" onclick="agregarServiciobtn(`${servicio7}`,'5')">B11</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 6</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S8" onclick="agregarServiciobtn(`${servicio8}`,'6')">308C</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 7</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-success Serv" id="S9" onclick="agregarServiciobtn(`${servicio9}`,'7')">Descarga</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2 " style="max-width: 10rem;">
    <div class="card-header">Anden 8</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S10" onclick="agregarServiciobtn(`${servicio10}`,'8')">B13</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 9</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S11" onclick="agregarServiciobtn(`${servicio11}`,'9')">307</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 10</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S12" onclick="agregarServiciobtn(`${servicio12}`,'10')">315C</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 11</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S13" onclick="agregarServiciobtn(`${servicio13}`,'11')">B12</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 12</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S14" onclick="agregarServiciobtn(`${servicio14}`,'12')">B12C</button>
    </div>
  </div>
  <div class="card text-white bg-danger mb-3 ml-2" style="max-width: 10rem;">
    <div class="card-header">Anden 13</div>
    <div class="card-body">
      <h5 class="card-title">Llegada servicios</h5>
      <p class="card-text">Presiona sobre el servicio para agregarlo a la tabla.</p>
      <button type="button" class="btn btn-warning Serv" id="S15" onclick="agregarServiciobtn(`${servicio15}`,'13')"> B07</button>
    </div>
  </div>
  </div>
</div>
<script>
  let servicio1=document.getElementById('S1').textContent,
      servicio2=document.getElementById('S2').textContent,
      servicio3=document.getElementById('S3').textContent,
      servicio4=document.getElementById('S4').textContent,
      servicio5=document.getElementById('S5').textContent,
      servicio6=document.getElementById('S6').textContent,
      servicio7=document.getElementById('S7').textContent,
      servicio8=document.getElementById('S8').textContent,
      servicio9=document.getElementById('S9').textContent,
      servicio10=document.getElementById('S10').textContent,
      servicio11=document.getElementById('S11').textContent,
      servicio12=document.getElementById('S12').textContent,
      servicio13=document.getElementById('S13').textContent,
      servicio14=document.getElementById('S14').textContent,
      servicio15=document.getElementById('S15').textContent;
   
 </script>
  <!--Inicio de div para los cards-->
  <div class="container">
    <div class= "row d-flex " id="contenido">
    
    </div>  
  </div>
  <!--Cierre espacio cards-->
  
 <!--Inicio tabla-->
 <div class="container">
  <input class="mb-3 mt-3 btn btn-warning" type="button" value="Consultar" onclick="leerDatos()">
 <div class="table-wrapper-scroll-y my-custom-scrollbar">

  <table class="table table-bordered table-striped mb-0" id="tablita">
    <thead>
      <tr>
        <th scope="col">Servicio <h2 class="fas fa-sort-alpha-up"onclick="sortTable(0, 'str')"></h2></th>
        <th scope="col">Hora</th>
        <th scope="col">Fecha</th>
        <th scope="col">Anden</th>
        <th scope="col">Eliminar</th>
      </tr>
    </thead>
    <tbody id="tabla">
    
    </tbody>
  </table>
  <script>
    /**
     * Funcion para ordenar una tabla... tiene que recibir el numero de columna a
     * ordenar y el tipo de orden
     * @param int n
     * @param str type - ['str'|'int']
     */
    function sortTable(n,type) {
      var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
     
      table = document.getElementById("tablita");
      switching = true;
      //Set the sorting direction to ascending:
      dir = "asc";
     
      /*Make a loop that will continue until no switching has been done:*/
      while (switching) {
        //start by saying: no switching is done:
        switching = false;
        rows = table.rows;
        /*Loop through all table rows (except the first, which contains table headers):*/
        for (i = 1; i < (rows.length - 1); i++) {
          //start by saying there should be no switching:
          shouldSwitch = false;
          /*Get the two elements you want to compare, one from current row and one from the next:*/
          x = rows[i].getElementsByTagName("TD")[n];
          y = rows[i + 1].getElementsByTagName("TD")[n];
          /*check if the two rows should switch place, based on the direction, asc or desc:*/
          if (dir == "asc") {
            if ((type=="str" && x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) || (type=="int" && parseFloat(x.innerHTML) > parseFloat(y.innerHTML))) {
              //if so, mark as a switch and break the loop:
              shouldSwitch= true;
              break;
            }
          } else if (dir == "desc") {
            if ((type=="str" && x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) || (type=="int" && parseFloat(x.innerHTML) < parseFloat(y.innerHTML))) {
              //if so, mark as a switch and break the loop:
              shouldSwitch = true;
              break;
            }
          }
        }
        if (shouldSwitch) {
          /*If a switch has been marked, make the switch and mark that a switch has been done:*/
          rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
          switching = true;
          //Each time a switch is done, increase this count by 1:
          switchcount ++;
        } else {
          /*If no switching has been done AND the direction is "asc", set the direction to "desc" and run the while loop again.*/
          if (switchcount == 0 && dir == "asc") {
            dir = "desc";
            switching = true;
          }
        }
      }
    }
  </script>
 
</div>
<div class="mt-3">
  <button class="btn btn-warning" onclick="tableToExcel('tablita','Informe')">Exportar a excel <h3 class="far fa-file-excel"></h3></button>

</div>
 <!--Fin tabla-->
</div>
</div>

<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>